{
   "settings":{
      "index":{
         "analysis":{
            "char_filter":{
               "remove_chars":{
                  "type":"mapping",
                  "mappings":[
                     "-=>"
                  ]
               }
            },
            "filter":{
               "merge_dotted_acronyms":{ 
                 "type":"pattern_replace",
                 "pattern":"(?<=[a-z])\\.(?![a-z]{2,})",
                 "replacement":""
               },
               "remove_fullstops":{
                  "type":"pattern_replace",
                  "pattern":"[.]",
                  "replacement":""
               },
               "remove_token_chars":{
                  "type":"pattern_replace",
                  "pattern":"[-:!@#$%^&*(),.?:{}|<>]",
                  "replacement":""
               },
               "stemmer_override":{
                  "type":"stemmer_override",
                  "rules_path":"stemmer_override.txt"
               },
               "synonyms_query_side":{
                  "type":"synonym_graph",
                  "synonyms_path":"synonyms.txt"
               },
               "synonyms_index_side":{
                  "type":"synonym",
                  "synonyms_path":"synonyms.txt"
               },
               "shingles":{
                  "type":"shingle",
                  "max_shingle_size":2,
                  "min_shingle_sizes":2
               },
               "english_possessive_stemmer":{
                  "type":"stemmer",
                  "language":"possessive_english"
               },
               "english_stopwords":{
                  "type":"stop",
                  "stopwords":"_english_"
               },
               "english_stemmer":{
                  "type":"stemmer",
                  "name":"minimal_english"
               },
               "word_delimiter":{
                  "type":"word_delimiter",
                  "catenate_words":"false",
                  "generate_number_parts":"true",
                  "generate_word_parts":"true",
                  "split_on_numerics":"false",
                  "preserve_original":false,
                  "type_table": ["_ => DIGIT", "& => DIGIT"]
               }
            },
            "analyzer":{
               "reverse":{
                  "type":"custom",
                  "tokenizer":"standard",
                  "filter":[
                     "lowercase",
                     "reverse"
                  ]
               },
               "bigram":{
                  "type":"custom",
                  "tokenizer":"standard",
                  "filter":[
                     "shingles",
                     "lowercase"
                  ]
               },
               "stemmed":{
                  "type":"custom",
                  "tokenizer":"standard",
                  "filter":[
                     "lowercase",
                     "english_possessive_stemmer",
                     "english_stemmer"
                  ]
               },
               "disable_highlighting_on_stopwords_merged_hyphens":{
                  "char_filter":[
                     "remove_chars"
                  ],
                  "filter":[
                     "lowercase",
                     "english_stopwords"
                  ],
                  "tokenizer":"standard"
               },
               "disable_tokenization":{
                  "type":"pattern",
                  "pattern":"[^.]"
               },
               "fulltext_index":{
                  "type":"custom",
                  "filter":[
                     "asciifolding",
                     "lowercase",
                     "merge_dotted_acronyms",
                     "word_delimiter",
                     "remove_token_chars",
                     "stemmer_override",
                     "english_possessive_stemmer",
                     "english_stemmer",
                     "english_stopwords",					 
                     "synonyms_index_side"
                  ],
                  "char_filter":[
                     "html_strip"
                  ],
                  "tokenizer":"whitespace"
               },
               "fulltext_query":{
                  "type":"custom",
                  "filter":[
                     "asciifolding",
                     "lowercase",
                     "remove_fullstops",
                     "word_delimiter",
                     "remove_token_chars",
                     "stemmer_override",
                     "english_possessive_stemmer",
                     "english_stemmer",
                     "english_stopwords",
                     "synonyms_query_side"
                  ],
                  "char_filter":[
                     "html_strip"
                  ],
                  "tokenizer":"whitespace"
               },
               "fulltext_no_synonyms":{
                  "type":"custom",
                  "filter":[
                     "asciifolding",
                     "lowercase",
                     "remove_fullstops",
                     "word_delimiter",
                     "remove_token_chars",
                     "stemmer_override",
                     "english_possessive_stemmer",
                     "english_stemmer",
                     "english_stopwords"
                  ],
                  "char_filter":[
                     "html_strip"
                  ],
                  "tokenizer":"whitespace"
               },
               "plain_with_asciifolding":{
                  "type":"custom",
                  "filter":[
                     "asciifolding",
                     "lowercase",
                     "word_delimiter"
                  ],
                  "char_filter":[
                     "html_strip"
                  ],
                  "tokenizer":"standard"
               }
            }
         },
         "number_of_replicas":"3",
         "number_of_shards":"1"
      }
   },
   "mappings":{
      "document":{
         "properties":{
            "title":{
               "type":"text",
               "analyzer":"fulltext_index",
               "search_analyzer":"fulltext_query",
               "copy_to":"dictionary",
               "term_vector":"with_positions_offsets",
               "fields":{
                  "plain":{
                     "type":"text",
                     "analyzer":"standard",
                     "search_analyzer":"disable_highlighting_on_stopwords_merged_hyphens",
                     "term_vector":"with_positions_offsets"
                  }
               }
            },
            "content":{
               "type":"text",
               "analyzer":"fulltext_index",
               "search_analyzer":"fulltext_query",
               "copy_to":"dictionary",
               "term_vector":"with_positions_offsets",
               "fields":{
                  "plain":{
                     "type":"text",
                     "analyzer":"standard",
                     "search_analyzer":"disable_highlighting_on_stopwords_merged_hyphens",
                     "term_vector":"with_positions_offsets"
                  }
               }
            },
            "metadescription":{
               "type":"text",
               "analyzer":"fulltext_index",
               "search_analyzer":"fulltext_query",
               "copy_to":"dictionary",
               "fields":{
                  "plain":{
                     "type":"text",
                     "analyzer":"standard",
                     "search_analyzer":"disable_highlighting_on_stopwords_merged_hyphens",
                     "term_vector":"with_positions_offsets"
                  }
               }
            },
            "keywords":{
               "type":"text",
               "analyzer":"fulltext_index",
               "search_analyzer":"fulltext_query",
               "copy_to":"dictionary"
            },
            "dictionary":{
               "type":"text",
               "store":true,
               "analyzer":"plain_with_asciifolding",
               "fields":{
                  "reverse":{
                     "type":"text",
                     "store":true,
                     "analyzer":"reverse"
                  },
                  "bigram":{
                     "type":"text",
                     "store":true,
                     "analyzer":"bigram"
                  },
                  "stemmed":{
                     "type":"text",
                     "store":true,
                     "analyzer":"stemmed"
                  }
               }
            },
            "freshness_date":{
               "type":"date"
            },
            "published_date":{
               "type":"date"
            },
            "datesort":{
               "type":"date"
            },
            "altsourceshort":{
               "type":"keyword"
            },
            "source_name":{
               "type":"keyword"
            },
            "boostvalue":{
               "type":"integer"
            }
         },
         "dynamic_templates":[
            {
               "disable_indexing":{
                  "mapping":{
                     "index":"false"
                  },
                  "match":"*"
               }
            }
         ]
      }
   }
}
